SHELL = /bin/sh

paths_path = ../setup
include $(paths_path)/paths


SUBS = lib fwd testbed/nwp testbed/grid

all:
	- PWD=`pwd`;\
	for i in ${SUBS}; do \
		echo '<<<<' $$i '>>>>'; \
		cd ${PWD}/$$i; \
		make $@; \
	done
	rm -f ${exec_path}/dynamicBackground ${exec_path}/gridDepClimate \
	${exec_path}/gridEdrClimate ${exec_path}/gridVertical ${exec_path}/gridRain \
	${exec_path}/interEdr ${exec_path}/interDep \
	testbed/grid/dynamicBackground.o testbed/grid/gridDepClimate.o \
	testbed/grid/gridEdrClimate.o testbed/grid/gridVertical.o testbed/grid/gridRain.o \
	testbed/grid/interEdr.o testbed/grid/interDep.o

clean:
	- PWD=`pwd`;\
	for i in ${SUBS}; do \
		echo '<<<<' $$i '>>>>'; \
		cd ${PWD}/$$i; \
		make $@; \
	done
